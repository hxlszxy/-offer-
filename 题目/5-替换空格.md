# 5-替换空格

题目：请实现一个函数，将一个字符串中的空格替换成“%20”。例如，当字符串为We Are Happy.则经过替换之后的字符串为We%20Are%20Happy。

## 题目解析

一般想法就是整个数组进行遍历，然后逐个替换，但是因为在改变数组的长度，因此从头到尾遍历的方法并不适合。

- 计算长度+从后向前+双指针

  先对字符串进行遍历，计算出字符串的总长。

  然后使用两个指针，分别指向原str和新str的末尾。分别从后向前移动，将原str的字符复制到新str指针指向的位置，如果遇到空格则进行替换。

  - 优点
    - 从后向前遍历可以在原始字符串数组本身进行操作，而不用再申请额外的空间。
    - 字符串只需要复制一次，时间效率为O(n）

## 代码实现

```python
class Solution:
    def replaceSpace(self, s):
        s = list(s)
        count = 0
        for e in s:
            if e == ' ':
                count +=1
        p1 = len(s) - 1
        s += [None]*(count*2) #为s扩容，增加的长度为2个空格元素的，因为%20长度为3，因此要增加2个长度
        p2 = len(s) - 1
        while p1>=0:
            if s[p1]==' ':
                #遇到空格替换字符串时需要把%20放进去，注意这里的i是递减的，所以逆序
                for i in ['0', '2', '%']: 
                    s[p2] = i
                    p2 -=1
            else:
                s[p2] = s[p1]
                p2 -=1
            p1 -=1
        return ''.join(s)#将列表转换为字符串
```

